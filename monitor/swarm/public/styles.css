:root{
  --bg:#0e2638; --row:#112d41; --row2:#0f2a3d; --panel:#0b2031;
  --fg:#eef6ff; --muted:#9cb6ca; --accent:#38bdf8;
  --leader:#3b82f6; --hdr:#0a1c2a;
  --svc-col:240px; --tl-col:32px; --hdr-h:72px;
  --pill-green:#20c36a; --pill-orange:#f59e0b; --pill-red:#ef4444;
  --pill-yellow:#eab308; --pill-blue:#60a5fa; --pill-teal:#14b8a6;
}
*{box-sizing:border-box}
html,body{margin:0;height:100%;background:var(--bg);color:var(--fg);font:14px/1.4 system-ui,Segoe UI,Roboto,Arial,sans-serif}
.hdr{display:flex;align-items:center;justify-content:space-between;padding:8px 12px;background:var(--hdr);position:sticky;top:0;z-index:20}
.docker{font-weight:700}
.clock{color:var(--muted)}
.actions{display:flex;gap:8px;align-items:center}
.btn,.sel{background:#0f2436;border:1px solid #1c3a50;color:var(--fg);border-radius:6px;padding:6px 10px}
.lbl{color:var(--muted);font-size:12px}

.matrix.header{
  position:sticky; top:48px; z-index:15;
  display:grid; grid-auto-rows: var(--hdr-h);
  background:#0a1f30; border-bottom:1px solid #0f2e44;
}
.matrix.body{
  display:grid; grid-auto-rows: auto;
  height:calc(100vh - (48px + var(--hdr-h) + 48px));
  overflow:auto; background:var(--panel);
}
.hcell{ display:flex; align-items:center; justify-content:center; background:#0a1f30 }
.hcell.node{ flex-direction:column; gap:2px; padding:6px }
.hcell .meta{ color:var(--muted); font-size:12px }
.hcell .kpi{ color:#cfe9ff; font-size:12px }
.hcell.node.manager.leader{ box-shadow: inset 0 -3px 0 var(--leader); }

.cell{ background:linear-gradient(180deg,var(--row),var(--row2)); }
.cell.svc{ display:flex; align-items:center; padding:6px 10px; }
.svcwrap{ display:flex; flex-direction:column; gap:2px; max-width:100% }
.svcname{ white-space:nowrap; overflow:hidden; text-overflow:ellipsis; color:var(--fg); }
.svcstack{ font-size:11px; color:var(--muted); }
.cell.tl{ position:relative; background:#0b2233 }
.cell.tl .vline{ position:absolute; left:50%; top:6px; bottom:6px; width:2px; background:#244a63 }
.cell.task{ padding:6px; display:flex; flex-direction:column; gap:6px; overflow:visible }

.pill{
  display:block; width:100%; max-width:100%;
  padding:6px 8px; border-radius:6px;
  background:var(--pill-green); color:#083b23;
  border:1px solid #0d8c52; box-shadow:0 1px 0 rgba(0,0,0,.2);
}
.pill .top{ display:flex; justify-content:space-between }
.pill .mid{ text-align:center; font-weight:600; color:#062e1c; white-space:nowrap; overflow:hidden; text-overflow:ellipsis }
.pill .bot{ display:flex; justify-content:space-between; align-items:center; font-size:12px; color:#0a5132 }

.pill .bot .age {
  margin-left: 8px;
  color: #6b7280;         /* grigio */
  font-size: 12px;
  opacity: 0;
  transition: opacity .15s ease-in-out;
  white-space: nowrap;
}
.pill .bot:hover .age {
  opacity: 1;
}

.pill.is-transition{ background:var(--pill-orange); border-color:#92400e; color:#1b1305 }
.pill.st-shutdown{ background:var(--pill-orange); border-color:#92400e; color:#1b1305 }
.pill.st-failed{ background:var(--pill-red); border-color:#7f1d1d; color:#1b0909 }
.pill.st-complete{ background:var(--pill-teal); border-color:#0f766e; color:#062522 }
.pill.st-pending{ background:var(--pill-yellow); border-color:#854d0e; color:#1b1305 }
.pill.st-starting{ background:var(--pill-blue); border-color:#1d4ed8; color:#06122b }

.pill.health-healthy{ box-shadow: inset 0 0 0 2px #064e3b }
.pill.health-unhealthy{ box-shadow: inset 0 0 0 2px #7f1d1d }
.pill.health-starting{ box-shadow: inset 0 0 0 2px #b45309 }

.stack-sep{
  grid-column:1/-1; height:32px;
  display:flex; align-items:center; justify-content:center; padding:0 10px;
  background:#0a2031; color:#9cc6df; font-weight:600; font-size:12px; border-top:1px solid #0f2e44;
}

.ftr{padding:6px 10px;color:var(--muted);font-size:12px;background:#0a1c2a}
